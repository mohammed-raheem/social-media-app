{"version":3,"sources":["components/CreatePost.jsx"],"names":["withRouter","props","dispatch","useContext","DispatchContext","user","StateContext","useState","title","setTitle","body","setBody","handleSubmit","e","a","preventDefault","Axios","post","token","response","type","message","text","history","push","data","console","log","onSubmit","className","htmlFor","autoFocus","name","id","placeholder","autoComplete","onChange","target","value"],"mappings":"kOAwEeA,uBAhEf,SAAoBC,GAClB,IAAMC,EAAWC,qBAAWC,KACpBC,EAASF,qBAAWG,KAApBD,KAER,EAA0BE,qBAA1B,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,qBAAxB,mBAAOG,EAAP,KAAaC,EAAb,KAEMC,EAAY,uCAAG,WAAgBC,GAAhB,eAAAC,EAAA,6DACnBD,EAAEE,iBADiB,kBAIMC,IAAMC,KAAK,eAAgB,CAChDT,QACAE,OACAQ,MAAOb,EAAKa,QAPG,OAIXC,EAJW,OASjBjB,EAAS,CACPkB,KAAM,eACNC,QAAS,CAAED,KAAM,UAAWE,KAAM,mCAEpCrB,EAAMsB,QAAQC,KAAd,gBAA4BL,EAASM,OAbpB,gDAejBC,QAAQC,IAAI,oBAfK,yDAAH,sDAmBlB,OACE,cAAC,IAAD,CAAMnB,MAAM,cAAZ,SACE,uBAAMoB,SAAUhB,EAAhB,UACE,sBAAKiB,UAAU,aAAf,UACE,uBAAOC,QAAQ,aAAaD,UAAU,kBAAtC,SACE,4CAEF,uBACEE,WAAS,EACTC,KAAK,QACLC,GAAG,aACHJ,UAAU,kDACVT,KAAK,OACLc,YAAY,GACZC,aAAa,MACbC,SAAU,SAACvB,GAAD,OAAOJ,EAASI,EAAEwB,OAAOC,aAIvC,sBAAKT,UAAU,aAAf,UACE,uBAAOC,QAAQ,YAAYD,UAAU,0BAArC,SACE,mDAEF,0BACEG,KAAK,OACLC,GAAG,YACHJ,UAAU,0CACVT,KAAK,OACLgB,SAAU,SAACvB,GAAD,OAAOF,EAAQE,EAAEwB,OAAOC,aAItC,wBAAQT,UAAU,kBAAlB","file":"static/js/3.0f0b6832.chunk.js","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport Axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nimport DispatchContext from \"../DispatchContext\";\nimport StateContext from \"../StateContext\";\n\nimport Page from \"./Page\";\n\nfunction CreatePost(props) {\n  const dispatch = useContext(DispatchContext);\n  const { user } = useContext(StateContext);\n\n  const [title, setTitle] = useState();\n  const [body, setBody] = useState();\n\n  const handleSubmit = async function (e) {\n    e.preventDefault();\n\n    try {\n      const response = await Axios.post(\"/create-post\", {\n        title,\n        body,\n        token: user.token,\n      });\n      dispatch({\n        type: \"flashMessage\",\n        message: { type: \"success\", text: \"The post successfully posted!\" },\n      });\n      props.history.push(`/post/${response.data}`);\n    } catch (e) {\n      console.log(\"Catched an error\");\n    }\n  };\n\n  return (\n    <Page title=\"Create Post\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"post-title\" className=\"text-muted mb-1\">\n            <small>Title</small>\n          </label>\n          <input\n            autoFocus\n            name=\"title\"\n            id=\"post-title\"\n            className=\"form-control form-control-lg form-control-title\"\n            type=\"text\"\n            placeholder=\"\"\n            autoComplete=\"off\"\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"post-body\" className=\"text-muted mb-1 d-block\">\n            <small>Body Content</small>\n          </label>\n          <textarea\n            name=\"body\"\n            id=\"post-body\"\n            className=\"body-content tall-textarea form-control\"\n            type=\"text\"\n            onChange={(e) => setBody(e.target.value)}\n          ></textarea>\n        </div>\n\n        <button className=\"btn btn-primary\">Save New Post</button>\n      </form>\n    </Page>\n  );\n}\n\nexport default withRouter(CreatePost);\n"],"sourceRoot":""}